<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Panel</title>
  <link href="{{ url_for('static', filename='styles/admin.css') }}" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Mobirise v5.9.6, mobirise.com">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
  <link rel="shortcut icon" href="/static/styles/assets/images/cognito-transparent-1-262x262.png" type="image/x-icon">
  <meta name="description" content="">


  <title>admin</title>
  <link rel="stylesheet" href="/static/styles/assets/web/assets/mobirise-icons2/mobirise2.css">
  <link rel="stylesheet" href="/static/styles/assets/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="/static/styles/assets/bootstrap/css/bootstrap-grid.min.css">
  <link rel="stylesheet" href="/static/styles/assets/bootstrap/css/bootstrap-reboot.min.css">
  <link rel="stylesheet" href="/static/styles/assets/dropdown/css/style.css">
  <link rel="stylesheet" href="/static/styles/assets/theme/css/style.css">
  <link rel="preload"
    href="https://fonts.googleapis.com/css?family=Inter+Tight:100,200,300,400,500,600,700,800,900,100i,200i,300i,400i,500i,600i,700i,800i,900i&display=swap"
    as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript>
    <link rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Inter+Tight:100,200,300,400,500,600,700,800,900,100i,200i,300i,400i,500i,600i,700i,800i,900i&display=swap">
  </noscript>
  <link rel="preload" as="style" href="/static/styles/assets/mobirise/css/mbr-additional.css">
  <link rel="stylesheet" href="/static/styles/assets/mobirise/css/mbr-additional.css" type="text/css">

</head>

<body>

  <section data-bs-version="5.1" class="menu menu2 cid-u6qoiaKzez" once="menu" id="menu02-m">


    <nav class="navbar navbar-dropdown navbar-expand-lg">
      <div class="container">
        <div class="navbar-brand">
          <span class="navbar-logo">
            <a href="/admin">
              <img src="/static/styles/assets/images/cognito-transparent-1-262x262.png" alt="ICON"
                style="height: 4.2rem;">
            </a>
          </span>

        </div>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-bs-toggle="collapse"
          data-target="#navbarSupportedContent" data-bs-target="#navbarSupportedContent"
          aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
          <div class="hamburger">
            <span></span>
            <span></span>
            <span></span>
            <span></span>
          </div>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">


          <div class="navbar-buttons mbr-section-btn"><a class="btn btn-primary display-4" href="/">LOG
              OUT</a></div>
        </div>
      </div>
    </nav>
  </section>

  <section data-bs-version="5.1" class="features4 cid-ub53Ifahjo" id="features04-q">


    <div class="container">
      <div class="row justify-content-center">
        <div class="col-12 content-head">
          <div class="mbr-section-head mb-5">
            <h4 class="mbr-section-title mbr-fonts-style align-center mb-0 display-2">
              <strong>Academics</strong>
            </h4>


          </div>
        </div>
      </div>
      <div class="row">
        <div class="item features-image col-12 col-md-6 col-lg-4">
          <div class="item-wrapper">
            <div class="item-img">
              <img src="/static/styles/assets/images/downpic.cc-2227180861-816x785.jpeg" alt="M">
            </div>
            <div class="item-content">



              <div class="mbr-section-btn item-footer"><a href="home.html"
                  class="btn item-btn btn-primary display-7">Take Attendance</a></div>
            </div>

          </div>
        </div>
        <div class="item features-image col-12 col-md-6 col-lg-4">
          <div class="item-wrapper">
            <div class="item-img">
              <img src="/static/styles/assets/images/student-database-icon-vector-816x816.jpeg" alt="M">
            </div>
            <div class="item-content">



              <div class="mbr-section-btn item-footer"><a href="/admin/add_user"
                  class="btn item-btn btn-primary display-7">Add Students</a></div>
            </div>
          </div>
        </div>
        <div class="item features-image col-12 col-md-6 col-lg-4">
          <div class="item-wrapper">
            <div class="item-img">
              <img src="/static/styles/assets/images/check-work-attendance-5-512x512.jpg" alt="M">
            </div>
            <div class="item-content">



              <div class="mbr-section-btn item-footer"><a href="/admin/admin_attendance_list"
                  class="btn item-btn btn-primary display-7">Attendance Record</a></div>
            </div>
          </div>
        </div>
      </div>
    </div>


    <h1>Today's Attendance</h1>
    <table id="attendance-table" class="table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Major</th>

      </thead>
      {% for i in range(data|length) %}
      <tbody>
        <tr>
          <td>{{ data[i][0]['id'] }}</td>
          <td>{{ data[i][0]['name'] }}</td>
          <td>{{ data[i][0]['major'] }}</td>

        </tr>
      </tbody>
      {% endfor %}
    </table>
    </div>
  </section>
  <form method="POST">
    <br />
    <br />

    <div style="text-align: center;">
      <button onclick="location.href='/admin/admin_attendance_list'" class="button_admin" name="button_admin"
        value="VALUE2"
        style="border: 1px solid #ccc; background-color: #1b4543;; padding: 10px 20px; border-radius: 5px; cursor: pointer;">
        Clear Above Attendance List
      </button>
      <button id="download-csv-button" type="button" class="button_admin" name="button_admin" value="VALUE2"
        style="border: 1px solid #ccc; background-color: #1b4543;; padding: 10px 20px; border-radius: 5px; cursor: pointer;">
        Download as CSV
      </button>
    </div>
  </form>

  <script src="https://cdn.jsdelivr.net/npm/table2csv@1.1.5/src/table2csv.js"></script>
  

  <script src="https://cdn.jsdelivr.net/npm/file-saver@2.0.5/dist/FileSaver.min.js"></script>
  <script>
    document.getElementById('download-csv-button').addEventListener('click', function() {
      var csv = 'ID,Name,Major\n';
      var table = document.getElementById('attendance-table');
      var rows = table.getElementsByTagName('tr');
      for (var i = 1; i < rows.length; i++) {
        var cells = rows[i].getElementsByTagName('td');
        csv += cells[0].innerText + ',' + cells[1].innerText + ',' + cells[2].innerText + '\n';
      }
      var blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
      saveAs(blob, 'attendance_' + new Date().toISOString().split('T')[0] + '.csv');
    });
  </script>
  </section>


  <script src="/static/styles/assets/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="/static/styles/assets/smoothscroll/smooth-scroll.js"></script>
  <script src="/static/styles/assets/ytplayer/index.js"></script>
  <script src="/static/styles/assets/dropdown/js/navbar-dropdown.js"></script>
  <script src="/static/styles/assets/theme/js/script.js"></script>


  </div>
</body>

</html>